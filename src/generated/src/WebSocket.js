// Generated by Melange

import * as Caml_option from "melange.js/caml_option.js";
import * as Curry from "melange.js/curry.js";

const MessageEventSource = {};

const $$MessagePort = {};

const $$MessageEvent = {};

function make(onmessage, url) {
  return {
          url: url,
          onmessage: onmessage
        };
}

function listen(t) {
  const set = function (ws, field, opt) {
    if (opt !== undefined) {
      return Curry._2(field, ws, Caml_option.valFromOption(opt));
    }
    
  };
  const ws = new WebSocket(t.url);
  set(ws, (function (prim0, prim1) {
          prim0.onmessage = prim1;
        }), t.onmessage);
  return ws;
}

export {
  MessageEventSource ,
  $$MessagePort ,
  $$MessageEvent ,
  make ,
  listen ,
}
/* No side effect */
